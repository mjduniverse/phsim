<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: dynSimCamera.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: dynSimCamera.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @constructor
 * @param {*} dynSim 
 */

PhSim.DynSimCamera = function(dynSim) {

	/**
	 * Dynamic Simulation
	 * @type {PhSim.DynSim}
	 */

	this.dynSim = dynSim;

}

/**
 * Camera scale
 * @type {Number}
 */

PhSim.DynSimCamera.prototype.scale = 1;

/**
 * Camera offset x 
 * @type {Number}
 */

PhSim.DynSimCamera.prototype.x = 0;

/**
 * Camera offset y
 * @type {Number}
 */

PhSim.DynSimCamera.prototype.y = 0;

/**
 * Target object
 * @type {StaticObject}
 */

PhSim.DynSimCamera.prototype.targetObj = null;

/**
 * Objects that will transform with the camera
 * @type {StaticObject[]}
 */

PhSim.DynSimCamera.prototype.transformingObjects = []

PhSim.DynSimCamera.prototype.zoomIn = function(scaleFactor) {
	this.scale = this.scale * scaleFactor;
	this.dynSim.simCtx.scale(scaleFactor,scaleFactor);
}

PhSim.DynSimCamera.prototype.translate = function(dx,dy) {
	this.x = this.x + dx;
	this.y = this.y + dy;
	this.dynSim.simCtx.translate(dx,dy);

	for(var i = 0; i &lt; this.transformingObjects.length; i++) {
		this.dynSim.translate(this.transformingObjects[i],dx,dy);
	}
}

PhSim.DynSimCamera.prototype.setPosition = function(x,y) {
	this.dynSim.simCtx.translate(-this.x,-this.y)
	this.x = x;
	this.y = y;
}


PhSim.DynSim.prototype.loading = {
	"bgClr": "black",
	"txtClr": "White",
	"txtFace": "arial",
	"txtAlign": "center",
	"txt": "Loading...",
	"yPos": "center",
	"txtSize": 20
}

PhSim.DynSim.prototype.drawLoadingScreen = function() {
	this.simCtx.fillStyle = this.loading.bgClr;
	this.simCtx.fillRect(0,0,this.camera.scale,this.simCanvas.height);
	this.simCtx.fillStyle = this.loading.txtClr;
	this.simCtx.textAlign = this.loading.txtAlign;
	this.simCtx.font = this.loading.txtSize + "px " + this.loading.txtFace;
	this.simCtx.fillText(this.loading.txt,this.simCanvas.width / 2,this.simCanvas.height / 2)
}

PhSim.DynSim.prototype.extractLclGame = function(localSettings) {

	var self = this;

	var o = {
		intLife: localSettings.life,
		goal: localSettings.goal,
		intScore: localSettings.score,
		static: localSettings,
		life: localSettings.life,
		score: localSettings.score,

		setScore: function(c) {

			o.score = c;

			if(o.score >= o.goal &amp;&amp; Number.isInteger(o.score) &amp;&amp; Number.isInteger(o.goal)) {
			
				self.pause();
				self.enableFilter();

				if(self.simulationIndex + 1 === self.sim.simulations.length) {
					var a = self.alert({
						msg:"You Win!",
						closeButtonTxt:"Play again",
						bgColor:"#333",
						txtColor:"#fff",
						w:300,
						h:100,
						onok: function() {
							self.disableFilter();
							a.parentNode.removeChild(a);
							self.gotoSimulationIndex(0);
						}
					});
				}

				else {
					clearInterval(self.intervalLoop);
					self.disableFilter();
					self.gotoSimulationIndex(self.simulationIndex + 1);
				}


			}
		},

		setLife: function(c) {
			o.life = c;

			if(o.life === 0) {
				o.end();
			}

		},

		incrementLife: function() {
			o.setLife(o.life + 1);
		},

		decrementLife: function() {
			o.setLife(o.life - 1);
		},

		end: function() {

			self.pause();
			self.enableFilter();


			var a = self.alert({
				msg:"Game Over",
				closeButtonTxt:"Try again",
				bgColor:"#333",
				txtColor:"#fff",
				w:300,
				h:100,
				onok: function() {
					self.gotoSimulationIndex(self.simulationIndex);
					self.disableFilter();
					a.parentNode.removeChild(a);	
				}
			});

		}

	}

	return o;

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="PhSim.html">PhSim</a></li><li><a href="PhSim.Gradients.html">Gradients</a></li><li><a href="PhSim.Objects.html">Objects</a></li><li><a href="PhSim.Tools.html">Tools</a></li></ul><h3>Classes</h3><ul><li><a href="PhSim.CollisionReport.html">CollisionReport</a></li><li><a href="PhSim.DynObject.html">DynObject</a></li><li><a href="PhSim.DynSim.html">DynSim</a></li><li><a href="PhSim.DynSimCamera.html">DynSimCamera</a></li><li><a href="PhSim.EventStack.html">EventStack</a></li><li><a href="PhSim.Objects.Camera.html">Camera</a></li><li><a href="PhSim.Objects.Circle.html">Circle</a></li><li><a href="PhSim.Objects.CompositeSimulation.html">CompositeSimulation</a></li><li><a href="PhSim.Objects.GradientLimits.html">GradientLimits</a></li><li><a href="PhSim.Objects.GradientStop.html">GradientStop</a></li><li><a href="PhSim.Objects.Layer.html">Layer</a></li><li><a href="PhSim.Objects.Path.html">Path</a></li><li><a href="PhSim.Objects.Rectangle.html">Rectangle</a></li><li><a href="PhSim.Objects.RegPolygon.html">RegPolygon</a></li><li><a href="PhSim.Objects.Simulation.html">Simulation</a></li><li><a href="PhSim.PhDynEvent.html">PhDynEvent</a></li><li><a href="PhSim.PhEvent.html">PhEvent</a></li><li><a href="PhSim.PhKeyEvent.html">PhKeyEvent</a></li><li><a href="PhSim.PhMouseEvent.html">PhMouseEvent</a></li><li><a href="PhSim.PhRender.html">PhRender</a></li><li><a href="PhSim.phSimCollision.html">phSimCollision</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getDynBoundingBox">getDynBoundingBox</a></li><li><a href="global.html#getRectangleCentroid">getRectangleCentroid</a></li><li><a href="global.html#getRegPolygonVerts">getRegPolygonVerts</a></li><li><a href="global.html#getVertBoundingBox">getVertBoundingBox</a></li><li><a href="global.html#setDynObjectLifespan">setDynObjectLifespan</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Sep 30 2020 20:58:26 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
